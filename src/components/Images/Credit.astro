---
import { Icon } from 'astro-icon/components';
const { credit } = Astro.props;
---

<div
    class="absolute bottom-fl-space-2xs left-fl-space-s z-50 grid cursor-help grid-cols-credit items-center overflow-hidden rounded-l-full text-left text-credit opacity-0 transition-opacity duration-300 group-hover:opacity-100"
    x-data="{open : false}"
>
    <button
        class="z-10 flex items-center justify-center rounded-full bg-accent p-fl-space-3xs"
        @click="open = !open"
        x-bind:aria-expanded="open ? 'true' : 'false'"
    >
        <Icon name="lucide:camera" class="h-fl-space-s w-fl-space-s" />
        <span class="sr-only">Show image credit</span>
    </button>
    <div
        class="z-0 -ml-fl-space-2xs origin-left rounded rounded-l-none bg-credit-bg/75 py-fl-space-3xs pl-fl-space-xs pr-fl-space-3xs text-fl-step--2/none"
        x-cloak
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 -translate-x-full"
        x-transition:enter-end="opacity-100 translate-x-0"
        x-transition:leave=" transition ease-in duration-300"
        x-transition:leave-start="opacity-100"
        x-transition:leave-end="opacity-0"
        x-show="open"
    >
        Credit: <Fragment set:html={credit} />
    </div>
</div>
